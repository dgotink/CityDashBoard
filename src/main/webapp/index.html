<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script src="http://d3js.org/d3.v3.min.js"></script>
                <script src="https://npmcdn.com/packery@2.0.0/dist/packery.pkgd.min.js"></script> 
                <script src="http://draggabilly.desandro.com/draggabilly.pkgd.min.js"></script>               
                <script src="scripts/data.js"></script>
                <script src="scripts/filter.js"></script>
                <script src="scripts/read.js"></script>
                <script src="scripts/groupby.js"></script>
                <script src="scripts/lines.js"></script>
                <script src="scripts/linegraph.js"></script>
		<style type="text/css">
		
		.line {
                    fill: none;
                    stroke-width: 1.5px;
		}
				
		.axis path,
		.axis line{
		    fill: none;
		    stroke: black;
                    stroke-width: 1px;
		    shape-rendering: crispEdges;
		}
		.axis text{
		    font-family: 'Helvetica', 'Arial', sans-serif;
		    font-size: 11px;
		}
		
		.svgbox { 
                    border-style: outset;
		}

                .brush .extent {
                    stroke: black;
                    fill-opacity: .125;
                    shape-rendering: crispEdges;
                }
                
                body { 
                    margin: 0px
                }

                .lines {
                    width: 800px
                    line-height: 0px;
                }
                
                .lines {
                    vertical-align: top;
                }
                
                .linegraph{
                    //overflow:auto;
                    //margin: 10px;
                }

		
		</style>
	</head>
	<body>
		<script type="text/javascript">
                var count = 0;
                var number_of_graphs = 7;
                var data = [];
                
               groupByX('red', 'created_at.$date', 'freespots', 'bikes_Brussel.json', 'free_bike_parking', loaded);
               filterData('green', 'created_at.$date', 'temperature', 'weather_Brussel.json', 'temperature', loaded);
               filterData('orange', 'created_at.$date', 'humidity', 'weather_Brussel.json', 'humidity', loaded);
               filterData('darkblue', 'created_at.$date', 'cloudpercentage', 'weather_Brussel.json', 'cloudpercentage', loaded);
               filterData('pink', 'created_at.$date', 'windspeed', 'weather_Brussel.json', 'windspeed', loaded);
               filterData('lightblue', 'created_at.$date', 'pressure', 'weather_Brussel.json', 'airpressure', loaded);
               groupByX('purple', 'created_at.$date', 'free_places', 'parkings_brussels.json', 'free_car_parking', loaded);

                function loaded(datum){
                    data.push(datum);
                    count++;
                    if(count === number_of_graphs)
                        lines(data);
                }                
                
		</script>
	</body>
</html>