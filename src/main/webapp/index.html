<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script src="http://d3js.org/d3.v3.min.js"></script>
                <script src="scripts/linechart.js"></script>
                <script src="scripts/data.js"></script>
                <script src="scripts/filter.js"></script>
                <script src="scripts/fisheye.js"></script>
               <script src="scripts/herschreven.js"></script>
		<style type="text/css">
		
		.line {
                    fill: none;
                    stroke-width: 1.5px;
		}
				
		.axis path,
		.axis line{
		    fill: none;
		    stroke: black;
		    shape-rendering: crispEdges;
		}
		.axis text{
		    font-family: "sans-serif";
		    font-size: 11px;
		}
		
		.svgbox { 
                    margin: 20px;
                    border-style: outset;
		}
                
                .slider .domain {
                    fill: none;
                    stroke: #000;
                    stroke-opacity: .3;
                    stroke-width: 6px;
                    stroke-linecap: round;
                }

                .slider .halo {
                    fill: none;
                    stroke: #ddd;
                    stroke-width: 4px;
                    stroke-linecap: round;
                }

                .slider .handle {
                    fill: #fff;
                    stroke: #000;
                    stroke-opacity: .5;
                    stroke-width: 1.25px;
                    cursor: crosshair;
                }
                
                .brush .extent {
                stroke: black;
                fill-opacity: .125;
                shape-rendering: crispEdges;
                }
		
		</style>
	</head>
	<body>
            <div id="PrimitiveLineGraphBox">
            </div>
            <div id="CollectedLineGraphBox">
            </div>
		<script type="text/javascript">
                var leuvenGraph;
                var antwerpenGraph;
                var ghentGraph;
                var collectedGraph;
                
                //filterData('black', 'loc', 'text', './data/twitter_isGeo.json', leuvenGraph, '#PrimitiveLineGraphBox', toLineChart);
                
                filterData('red', 'created_at.$date', 'temperature', './data/weather_leuven.json', leuvenGraph, '#PrimitiveLineGraphBox', toLineChart );
                filterData('green', 'created_at.$date', 'temperature', './data/weather_antwerp.json', antwerpenGraph, '#PrimitiveLineGraphBox', toLineChart );
                filterData('purple', 'created_at.$date', 'temperature', './data/weather_ghent.json', ghentGraph, '#PrimitiveLineGraphBox', toLineChart );
             
                collectedGraph = herschreven();
                                 d3.select('#CollectedLineGraphBox')
                                    .call(collectedGraph);

                function toLineChart(object, element, data){
                    object = herschreven().data([data]);
                    d3.select(element)
                            .call(object);
                }
            
                function CreateCollectedGraphBox(data){
                    collectedGraph.data(data);
                }
                
                
		</script>
	</body>
</html>