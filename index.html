<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script src="http://d3js.org/d3.v3.min.js"></script>
                <script src="https://npmcdn.com/packery@2.0.0/dist/packery.pkgd.min.js"></script> 
                <script src="http://draggabilly.desandro.com/draggabilly.pkgd.min.js"></script>               
                <script src="scripts/data.js"></script>
                <script src="scripts/read.js"></script>
                <script src="scripts/lines.js"></script>
                <script src="scripts/linegraph.js"></script>
                <script src="scripts/linegraph_base.js"></script>
                <script src="scripts/linegraph_context.js"></script>
                <script src="scripts/controller.js"></script>
		<style type="text/css">
		
		.line {
                    fill: none;
                    stroke-width: 1.5px;
		}
				
		.axis path,
		.axis line{
		    fill: none;
		    stroke: black;
                    stroke-width: 1px;
		    shape-rendering: crispEdges;
		}
		.axis text{
		    font-family: 'Helvetica', 'Arial', sans-serif;
		    font-size: 11px;
		}
		
		.svgbox { 
                    //border-style: outset;
		}

                .brush .extent {
                    /*stroke: black;
                    fill-opacity: .125;*/
                    shape-rendering: crispEdges;
                }
                
                body { 
                    margin: 0px;
                    overflow: hidden;
                }
                
                .main {
                    margin: 0px;
                }
                
                .grid {
                    margin: 0px;
                }
                
                .main-item {
                    border: 0px;
                    padding: 0px;
                    margin: 0px;
                }
                
                .grid-item {
                    margin: 0px;
                }
                

                .lines {
                    line-height: 0px;
                }
                
                .lines {
                    vertical-align: top;
                }
                
                .contextgraph {
                    height: 50px;
                }
                	
		</style>
	</head>
	<body>
		<script type="text/javascript">
                var count = 0;
                var number_of_graphs = 3;
                var data = [];
                
               //groupByX('red', 'created_at.$date', 'freespots', 'bikes_Brussel.json', '#_bike_spots', loaded);
               filter('green', 'temperature', 'created_at.$date', 'temperature', 'weather_Brussel.json', 'temperature_brussel', loaded);
               filter('red', 'temperature', 'created_at.$date', 'temperature', 'weather_Leuven.json', 'temperature_leuven', loaded);
               filter('blue', 'temperature', 'created_at.$date', 'temperature', 'weather_Antwerpen.json', 'temperature_antwerpen', loaded);
               
               //filterData('orange', 'created_at.$date', 'humidity', 'weather_Brussel.json', 'humidity', loaded);
               //filterData('darkblue', 'created_at.$date', 'cloudpercentage', 'weather_Brussel.json', 'cloudpercentage', loaded);
               //filterData('pink', 'created_at.$date', 'windspeed', 'weather_Brussel.json', 'windspeed', loaded);
               //filterData('lightblue', 'created_at.$date', 'pressure', 'weather_Brussel.json', 'pressure', loaded);
               //groupByX('purple', 'created_at.$date', 'freespots', 'bikes_Brussel.json', '7', loaded);
               //filterData('gray', 'created_at.$date', 'temperature', 'weather_Brussel.json', '8', loaded);
               //filterData('darkred', 'created_at.$date', 'humidity', 'weather_Brussel.json', '9', loaded);
               //filterData('lightgreen', 'created_at.$date', 'cloudpercentage', 'weather_Brussel.json', '10', loaded);
               //filterData('darkgreen', 'created_at.$date', 'windspeed', 'weather_Brussel.json', '11', loaded);
               //filterData('brown', 'created_at.$date', 'pressure', 'weather_Brussel.json', '12', loaded);
               //groupByX('purple', 'created_at.$date', 'free_places', 'parkings_brussels.json', 'free_car_parking', loaded);

                function loaded(datum){
                    var callb = function(data){
                        controller(data);
                    };
                    data.push(datum);
                    count++;
                    if(count === number_of_graphs)
                        base('black', data, 'temperature', callb);
                        
                }                
                
		</script>
	</body>
</html>